<div class="close" (click)="dismissModal()"></div>
<div class="inner">
  <div class="title center-align">Vendor Info</div>
  <div class="row">
    <div class="col s4">
      <div class="img-container">
        <div class="img" *ngIf="vendor.logo" [ngStyle]="{ 'background-image': 'url(' + vendor.logo + ')' }"></div>
      </div>
    </div>
    <div class="col s8">
      <div class="ttl-box">
        <div class="ttl">{{vendor.name}}</div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <ul class="tabs location-tabs" materialize="tabs">
    <li class="tab col s4"><a href="#general" (click)="chooseTabLocation()">General</a></li>
    <li class="tab col s4"><a href="#general" (click)="chooseTabLocation(primaryLocation)" [class.active]="primaryLocation?.id == (accountService.dashboardLocation$ | async)?.id">{{primaryLocation?.name}}</a></li>
    <li class="tab col s4" *ngIf="(locations$ | async)?.length == 1"><a href="#general" (click)="chooseTabLocation(secondaryLocation)">{{(locations$ | async)[0].name}}</a></li>
    <li class="tab col s4 uptracker-dropdown" *ngIf="(locations$ | async)?.length > 1">
      <a href="#general" materialize="dropdown" data-activates="location_dropdown" [class.active1]="sateliteLocationActive" #secondary>
        <span>{{secondaryLocation?.name}}</span>
        <i class="caret"></i>
      </a>
      <ul id="location_dropdown" class="dropdown-content">
        <li *ngFor="let location of locations$ | async" (click)="chooseTabLocation(location)" [class.active]="location.name == currentLocation?.name">
          {{location.name}}
        </li>
      </ul>
    </li>
  </ul>
</div>
<div id="general">
  <div class="inner">
    <div class="info">
      <div class="row" *ngIf="vendor?.address?.street_1 || vendor?.address?.street_2 || vendor?.address?.country || vendor?.address?.city || vendor?.address?.state">
        <div class="col s4 label">Address</div>
        <div class="col s8">
          <div *ngIf="vendor?.address?.street_1 || vendor?.address?.street_2">{{vendor?.address?.street_1}}, {{vendor?.address?.street_2}}</div>
          {{vendor?.address?.city}}, {{vendor?.address?.state}} {{vendor?.address?.postal_code}}
        </div>
      </div>
      <div class="row" *ngIf="vendor.phone">
        <div class="col s4 label">Phone</div>
        <div class="col s8">
          {{vendor.rep_office_phone || vendor.rep_mobile_phone || vendor.phone}}
        </div>
      </div>
      <div class="row" *ngIf="vendor.fax">
        <div class="col s4 label">Fax</div>
        <div class="col s8">
          {{vendor.rep_fax || vendor.fax}}
        </div>
      </div>
      <div class="row" *ngIf="vendor.email">
        <div class="col s4 label">Email</div>
        <div class="col s8">
          {{vendor.email}}
        </div>
      </div>
      <div class="row" *ngIf="vendor.rep_name">
        <div class="col s4 label">Rep Name</div>
        <div class="col s8">
          {{vendor.rep_name}}
        </div>
      </div>
      <div class="row" *ngIf="vendor.website">
        <div class="col s4 label">Website</div>
        <div class="col s8">
          <a href="{{vendor.website}}">{{vendor.website}}</a>
        </div>
      </div>
      <div class="row" *ngIf="vendor.notes">
        <div class="col s4 label">Notes</div>
        <div class="col s8">
          {{vendor.notes}}
        </div>
      </div>
      <div class="row buttons center-align">
        <button
            type="button"
            class="uptracker-form-btn btn white-text waves-effect waves-light"
            (click)="editVendor(vendor)">
          Edit
        </button>
      </div>
    </div>
  </div>
</div>
